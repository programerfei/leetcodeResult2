# leetcode刷题8

## 1、面试题17.16按摩师 （简单）

小样，别以为你穿个马甲我就不认识你了（狗头）。

其实如果做过“买卖股票的最佳时机”这一题，就会发现这一题和那一道买卖股票的最佳时机的题很相似。

这一题我们有三个状态，分别是：预约，休息，没有预约。

所以我们定义一个数组dp[nums.length] [3]，代表每个状态在截至这一天的预约最大时间。

状态转移方程：

1.当没有预约的时候，有两个状态：可能是前一天就没有预约，或者前一天预约，紧邻不能预约，选取最大值；

2.当预约的时候，我们可能事前一天没有预约或者休息，选取其中最大的一个然后加上当前的预约时间；

3.当休息的时候，只有前一天预约这一种情况‘具体的实现看实现代码。

最后的状态便是三种情况中得到一种，我们选取其中的一个最大值便是我们的最终结果。

```Java
class Solution {
    public int massage(int[] nums) {
        if(nums.length==0){
            return 0;
        }
        int[][] dp=new int[nums.length][3];
        //初始化
        dp[0][0]=0;//第一天没有预约
        dp[0][1]=nums[0];//第一天预约
        dp[0][2]=0;//第一天休息
        for(int i=1;i<nums.length;i++){
            dp[i][0]=Math.max(dp[i-1][1],dp[i-1][0]);
            dp[i][2]=dp[i-1][1];
            dp[i][1]=Math.max(dp[i-1][2],dp[i-1][0])+nums[i];
        }
        return Math.max(Math.max(dp[nums.length-1][0],dp[nums.length-1][1]),dp[nums.length-1][2]);
    }
}
```

